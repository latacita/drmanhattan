package alumno;

import java.io.DataInputStream;
import java.io.DataOutputStream;
import java.io.IOException;
import java.net.Socket;
import java.net.UnknownHostException;

/**
 * 
 * Clase que representa la actividad a realizar por la aplicación del alumno.
 * 
 * @author Manuel Pando Muñoz
 *
 */
public class TareaAlumno extends Thread{

	Socket socketAlumno;

	/**
	 * Constructor
	 * @param ip  direcion del computador del profesor
	 */
	public TareaAlumno(String ip){		
		try {
			//creacion del socket e inicio del hilo de ejecucion
			socketAlumno = new Socket(ip, comun.Global.PUERTOPROFESOR);
			this.start();			

		} catch (UnknownHostException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		} catch (IOException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}		
	}


	public void run(){

		try {
			DataInputStream dis = (DataInputStream) socketAlumno.getInputStream();
			DataOutputStream dos = (DataOutputStream) socketAlumno.getOutputStream();
			
			//recibir opcion del profesor
			int recibido = dis.readInt();

			//mientras no se acabe el examen
			while(recibido != comun.Global.FINEXAMEN){

				switch (recibido) {
				case comun.Global.ENVIOFICHERO:

					//TODO a recibir fichero


					break;

				default:
					break;
				}
			}
		} catch (IOException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}


	}	

}
